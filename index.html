<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>강남게임즈</title>
    <style>
        body { 
            font-family: sans-serif; 
            margin: 0; 
            background-image: url('background.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            padding-bottom: 250px;
            overflow: hidden;
        }
        
        h1 { 
            color: #FFFFFF;
            text-align: center;
            text-shadow: 2px 2px 4px #000000;
            position: relative;
            z-index: 10;
            padding-top: 40px;
        }

        .video-container {
            position: relative;
            z-index: 9; 
            margin-bottom: 10px;
            width: 90%; 
            max-width: 420px; 
            margin-left: auto;
            margin-right: auto;
            aspect-ratio: 16 / 9; 
        }
        
        .video-container iframe {
            width: 100%;
            height: 100%;
        }
        
        .cloud {
            position: fixed;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
        }
        
        .tree {
            position: fixed;
            pointer-events: none;
            bottom: 88px;
            z-index: 4;
            width: 150px;
            height: 170px;
        }
        
        .tree img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .cat {
            position: fixed;
            pointer-events: none;
            bottom: 88px;
            z-index: 5;
            width: 54px;
            height: 45px;
            background-repeat: no-repeat;
            background-size: 162px 45px;
            image-rendering: pixelated;
        }

        /* ★★★ 낙하산 CSS (크기, 레이어 수정) ★★★ */
        .parachute {
            position: fixed;
            pointer-events: none;
            width: 93px;  /* 31px * 3 */
            height: 108px; /* 36px * 3 */
            background-size: 100% 100%;
            image-rendering: pixelated;
            z-index: 6; /* ★★★ 나무(4), 고양이(5)보다 앞 */
        }
        
        .tiled-land {
            position: fixed; 
            bottom: 0;
            left: 0;
            width: 100%;
            height: 88px;
            background-image: url('land.png');
            background-repeat: repeat-x; 
            background-size: 48px 88px;
            z-index: 3;
            animation: slide-land-left 1.25s linear infinite;
        }
        
        .scrolling-mountain {
            position: fixed; 
            bottom: 88px;
            left: 0;
            width: 100%; 
            height: 150px;
            background-image: url('mountain.png');
            background-repeat: repeat-x; 
            background-size: 768px 150px;
            z-index: 2;
            animation: slide-mountain-left 30s linear infinite;
        }
        
        @keyframes slide-mountain-left {
            from { background-position: 0 0; }
            to { background-position: -768px 0; }
        }
        
        @keyframes slide-land-left {
            from { background-position: 0 0; }
            to { background-position: -48px 0; }
        }
    </style>
</head>
<body>
    <h1>강남게임즈</h1>

    <div class="video-container">
        <iframe 
            src="https://www.youtube.com/embed/fVpLeLf1vSo?autoplay=1&mute=1&vq=hd1080" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>
    
    <div class="scrolling-mountain"></div>
    <div class="tiled-land"></div>

    <script>
        const cloudTypes = [
            { img: 'cloud3.png', width: 80,  height: 50,  speed: 40,  zIndex: 1 },
            { img: 'cloud2.png', width: 120, height: 75,  speed: 25,  zIndex: 1 },
            { img: 'cloud1.png', width: 160, height: 100, speed: 15,  zIndex: 1 }
        ];

        const treeTypes = [
            'tree1.png',
            'tree2.png',
            'tree3.png',
            'tree4.png'
        ];

        const catTypes = [
            'cat1.png',
            'cat2.png',
            'cat3.png',
            'cat4.png'
        ];

        const parachuteTypes = [
            'parachute1.png', 'parachute2.png', 'parachute3.png', 'parachute4.png',
            'parachute5.png', 'parachute6.png', 'parachute7.png', 'parachute8.png'
        ];

        const LAND_SPEED = 16;
        const LAND_MOVE_PX = 0.6144;
        const CAT_SPEED = 0.5; 

        // ★★★ 낙하산 속도 수정 (60% 감소) ★★★
        const PARACHUTE_SPEED_X = 0.6; // (1.0 * 0.6)
        const PARACHUTE_SPEED_Y = 1.2; // (2.0 * 0.6)
        const PARACHUTE_INTERVAL = 20;

        function createCloud(startPosition = null) {
            const type = cloudTypes[Math.floor(Math.random() * cloudTypes.length)];
            
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.style.backgroundImage = `url('${type.img}')`;
            cloud.style.width = type.width + 'px';
            cloud.style.height = type.height + 'px';
            cloud.style.zIndex = type.zIndex;
            
            const randomY = Math.random() * 40 + 20;
            cloud.style.top = randomY + '%';
            cloud.style.left = (startPosition !== null ? startPosition : window.innerWidth) + 'px';
            
            document.body.appendChild(cloud);
            animateCloud(cloud, type.speed);
        }

        function animateCloud(cloud, speed) {
            let position = parseInt(cloud.style.left);
            
            const move = setInterval(() => {
                position -= 1;
                cloud.style.left = position + 'px';
                
                if (position < -200) {
                    clearInterval(move);
                    cloud.remove();
                }
            }, speed);
        }

        function createTree(startPosition = null) {
            const treeSrc = treeTypes[Math.floor(Math.random() * treeTypes.length)];
            
            const tree = document.createElement('div');
            tree.className = 'tree';
            
            const img = document.createElement('img');
            img.src = treeSrc;
            tree.appendChild(img);
            
            tree.style.left = (startPosition !== null ? startPosition : window.innerWidth) + 'px';
            
            document.body.appendChild(tree);
            animateTree(tree);
        }

        function animateTree(tree) {
            let position = parseInt(tree.style.left);
            
            const move = setInterval(() => {
                position -= LAND_MOVE_PX;
                tree.style.left = position + 'px';
                
                if (position < -300) {
                    clearInterval(move);
                    tree.remove();
                }
            }, LAND_SPEED);
        }

        function createCat(startPosition = null) {
            const catSrc = catTypes[Math.floor(Math.random() * catTypes.length)];
            
            const cat = document.createElement('div');
            cat.className = 'cat';
            cat.style.backgroundImage = `url('${catSrc}')`;
            cat.style.left = (startPosition !== null ? startPosition : -50) + 'px';
            
            document.body.appendChild(cat);
            animateCat(cat);
        }

        function animateCat(cat) {
            let position = parseInt(cat.style.left);
            let frameIndex = 0;
            const frameSequence = [0, 1, 2, 1]; 
            const framePositions = [0, -54, -108]; 
            
            let isJumping = false;
            let jumpHeight = 0;
            let jumpVelocity = 0;
            const gravity = 0.5;
            const jumpPower = -8;
            
            let animationCounter = 0;
            const animationSpeed = 8; 

            const move = setInterval(() => {
                position += CAT_SPEED;
                cat.style.left = position + 'px';
                
                if (!isJumping && Math.random() < 0.02) {
                    isJumping = true;
                    jumpVelocity = jumpPower;
                }
                
                if (isJumping) {
                    jumpVelocity += gravity;
                    jumpHeight += jumpVelocity;
                    
                    if (jumpHeight >= 0) { 
                        jumpHeight = 0;
                        isJumping = false;
                        jumpVelocity = 0;
                    }
                    
                    cat.style.bottom = (88 - jumpHeight) + 'px';
                }
                
                animationCounter++;
                if (animationCounter >= animationSpeed) {
                    animationCounter = 0;
                    frameIndex = (frameIndex + 1) % frameSequence.length;
                    const frame = frameSequence[frameIndex];
                    cat.style.backgroundPosition = framePositions[frame] + 'px 0';
                }
                
                if (position > window.innerWidth + 50) {
                    clearInterval(move);
                    cat.remove();
                }
            }, 20);
        }

        function createParachute(startX = null, startY = null) {
            const parachuteSrc = parachuteTypes[Math.floor(Math.random() * parachuteTypes.length)];
            
            const parachute = document.createElement('div');
            parachute.className = 'parachute';
            parachute.style.backgroundImage = `url('${parachuteSrc}')`;

            const screenWidth = window.innerWidth;
            const topPos = startY !== null ? startY : -110; // 높이(108)보다 크게
            const leftPos = startX !== null ? startX : (Math.random() * (screenWidth * 2) - screenWidth);
            
            parachute.style.top = topPos + 'px';
            parachute.style.left = leftPos + 'px';
            
            document.body.appendChild(parachute);
            animateParachute(parachute);
        }

        function animateParachute(parachute) {
            let positionX = parseFloat(parachute.style.left);
            let positionY = parseFloat(parachute.style.top);
            
            const move = setInterval(() => {
                positionX += PARACHUTE_SPEED_X;
                positionY += PARACHUTE_SPEED_Y;
                
                parachute.style.left = positionX + 'px';
                parachute.style.top = positionY + 'px';
                
                if (positionY > window.innerHeight + 110) { // 108보다 크게
                    clearInterval(move);
                    parachute.remove();
                }
            }, PARACHUTE_INTERVAL);
        }

        function scheduleNextTree() {
            const nextDelay = Math.random() * 5000 + 1000;
            setTimeout(() => {
                createTree();
                scheduleNextTree();
            }, nextDelay);
        }

        function scheduleNextCloud() {
            const nextDelay = Math.random() * 5000 + 5000;
            setTimeout(() => {
                createCloud();
                scheduleNextCloud();
            }, nextDelay);
        }

        function scheduleNextCat() {
            const nextDelay = (Math.random() * 8000 + 5000) * 1.5; 
            setTimeout(() => {
                createCat();
                scheduleNextCat();
            }, nextDelay);
        }

        function scheduleNextParachute() {
            const nextDelay = Math.random() * 5000 + 3000;
            setTimeout(() => {
                createParachute();
                scheduleNextParachute();
            }, nextDelay);
        }

        // --- 초기화 ---
        
        const initialClouds = Math.floor(Math.random() * 4) + 5;
        for (let i = 0; i < initialClouds; i++) {
            const randomX = Math.random() * window.innerWidth;
            createCloud(randomX);
        }

        const initialTrees = Math.floor(Math.random() * 6) + 7;
        for (let i = 0; i < initialTrees; i++) {
            const randomX = Math.random() * window.innerWidth;
            createTree(randomX);
        }

        const initialCats = Math.floor(Math.random() * 3);
        for (let i = 0; i < initialCats; i++) {
            const randomX = Math.random() * window.innerWidth - 100;
            createCat(randomX);
        }

        const initialParachutes = 5; 
        for (let i = 0; i < initialParachutes; i++) {
            const randomX = Math.random() * (window.innerWidth * 2) - window.innerWidth;
            const randomY = Math.random() * -600 - 110; // -110 ~ -710
            createParachute(randomX, randomY);
        }

        // 스케줄러 시작
        scheduleNextCloud();
        scheduleNextTree();
        scheduleNextCat();
        scheduleNextParachute();
    </script>
</body>
</html>
